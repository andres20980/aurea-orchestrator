apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: aurea-orchestrator-dev

namePrefix: dev-

resources:
  - ../../base

labels:
  - pairs:
      environment: dev

# Patches for dev environment
patches:
  - path: api-deployment-patch.yaml
  - path: worker-deployment-patch.yaml
  - path: configmap-patch.yaml
  - path: ingress-patch.yaml

# Image tags for dev
images:
  - name: aurea-orchestrator-api
    newName: aurea-orchestrator-api
    newTag: dev
  - name: aurea-orchestrator-worker
    newName: aurea-orchestrator-worker
    newTag: dev

# Resource limits for dev (more relaxed)
replicas:
  - name: aurea-api
    count: 1
  - name: aurea-celery-worker
    count: 1

# Image tags for dev
images:
  - name: aurea-orchestrator-api
    newName: aurea-orchestrator-api
    newTag: dev
  - name: aurea-orchestrator-worker
    newName: aurea-orchestrator-worker
    newTag: dev

# Resource limits for dev (more relaxed)
replicas:
  - name: aurea-api
    count: 1
  - name: aurea-celery-worker
    count: 1
